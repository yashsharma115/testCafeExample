"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getHeaderEntry = exports.convertToOutgoingHttpHeaders = exports.convertToHeaderEntries = void 0;
function convertToHeaderEntries(headers) {
    return Object.entries(headers).map(([name, value]) => {
        let resultValue = '';
        if (value)
            resultValue = Array.isArray(value) ? value.toString() : value;
        return { name, value: resultValue };
    });
}
exports.convertToHeaderEntries = convertToHeaderEntries;
function convertToOutgoingHttpHeaders(headers) {
    if (!headers)
        return {};
    return headers.reduce((result, header) => {
        result[header.name.toLowerCase()] = header.value;
        return result;
    }, {});
}
exports.convertToOutgoingHttpHeaders = convertToOutgoingHttpHeaders;
function getHeaderEntry(headers, headerName) {
    return headers === null || headers === void 0 ? void 0 : headers.find(header => header.name.toLowerCase() === headerName);
}
exports.getHeaderEntry = getHeaderEntry;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVhZGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9uYXRpdmUtYXV0b21hdGlvbi91dGlscy9oZWFkZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUtBLFNBQWdCLHNCQUFzQixDQUFFLE9BQTRCO0lBQ2hFLE9BQU8sTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFO1FBQ2pELElBQUksV0FBVyxHQUFHLEVBQUUsQ0FBQztRQUVyQixJQUFJLEtBQUs7WUFDTCxXQUFXLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFFbEUsT0FBTyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLENBQUM7SUFDeEMsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDO0FBVEQsd0RBU0M7QUFFRCxTQUFnQiw0QkFBNEIsQ0FBRSxPQUFrQztJQUM1RSxJQUFJLENBQUMsT0FBTztRQUNSLE9BQU8sRUFBRSxDQUFDO0lBRWQsT0FBTyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBVyxFQUFFLE1BQU0sRUFBRSxFQUFFO1FBQzFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUVqRCxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDWCxDQUFDO0FBVEQsb0VBU0M7QUFFRCxTQUFnQixjQUFjLENBQUUsT0FBa0MsRUFBRSxVQUFrQjtJQUNsRixPQUFPLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxLQUFLLFVBQVUsQ0FBQyxDQUFDO0FBQzdFLENBQUM7QUFGRCx3Q0FFQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm90b2NvbCBmcm9tICdkZXZ0b29scy1wcm90b2NvbCc7XG5pbXBvcnQgSGVhZGVyRW50cnkgPSBQcm90b2NvbC5GZXRjaC5IZWFkZXJFbnRyeTtcbmltcG9ydCB7IEluY29taW5nSHR0cEhlYWRlcnMsIE91dGdvaW5nSHR0cEhlYWRlcnMgfSBmcm9tICdodHRwJztcblxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvSGVhZGVyRW50cmllcyAoaGVhZGVyczogSW5jb21pbmdIdHRwSGVhZGVycyk6IEhlYWRlckVudHJ5W10ge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhoZWFkZXJzKS5tYXAoKFtuYW1lLCB2YWx1ZV0pID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdFZhbHVlID0gJyc7XG5cbiAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICAgICAgcmVzdWx0VmFsdWUgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLnRvU3RyaW5nKCkgOiB2YWx1ZTtcblxuICAgICAgICByZXR1cm4geyBuYW1lLCB2YWx1ZTogcmVzdWx0VmFsdWUgfTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb091dGdvaW5nSHR0cEhlYWRlcnMgKGhlYWRlcnM6IEhlYWRlckVudHJ5W10gfCB1bmRlZmluZWQpOiBPdXRnb2luZ0h0dHBIZWFkZXJzIHtcbiAgICBpZiAoIWhlYWRlcnMpXG4gICAgICAgIHJldHVybiB7fTtcblxuICAgIHJldHVybiBoZWFkZXJzLnJlZHVjZSgocmVzdWx0OiBhbnksIGhlYWRlcikgPT4ge1xuICAgICAgICByZXN1bHRbaGVhZGVyLm5hbWUudG9Mb3dlckNhc2UoKV0gPSBoZWFkZXIudmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LCB7fSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRIZWFkZXJFbnRyeSAoaGVhZGVyczogSGVhZGVyRW50cnlbXSB8IHVuZGVmaW5lZCwgaGVhZGVyTmFtZTogc3RyaW5nKTogSGVhZGVyRW50cnkgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiBoZWFkZXJzPy5maW5kKGhlYWRlciA9PiBoZWFkZXIubmFtZS50b0xvd2VyQ2FzZSgpID09PSBoZWFkZXJOYW1lKTtcbn1cblxuIl19